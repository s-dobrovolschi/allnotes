<p-panel *ngIf="render" header="Search results" [toggleable]="true" [style]="{'margin-bottom':'20px'}">
  <div class="ui-g">
  <div class="ui-g-12 ui-g-nopad">
  	<p-progressBar mode="indeterminate" [style]="{'height': '10px'}"></p-progressBar>
  </div>
    <div class="ui-g-12 ui-g-nopad">
      <div *ngIf="customer; else noCustomerFoundBlock">
        <h4>{{customer.customerNumber}} - {{customer.lastName}}, {{customer.firstName}}</h4>
      </div>
      <ng-template #noCustomerFoundBlock>No customer found.</ng-template>
      <div *ngIf="notes; else noNotesFoundBlock">
        <h5>( {{notes.length}} results found )</h5>
        <p-dataTable [value]="notes" selectionMode="single" [(selection)]="note" (click)="showSelectionDetails()"
                     dataKey="id" [rows]="10" [paginator]="true">
<!--           <p-column field="id" header="Note Id"><i class="fa fa-user"></i></p-column> -->
          <p-column field="title" header="Title" filter="true" filterMatchMode="contains" [style]="{'width':'30%'}"></p-column>
          <p-column header="Date created" [style]="{'width':'10%'}">
            <ng-template let-note="rowData" pTemplate="body">
				{{note.dateCreated | date: 'dd/MM/yyyy'}}
			</ng-template>
          </p-column>
          <p-column field="author.id" header="Author"></p-column>
          <p-column field="dateModified" header="Date modified"></p-column>
          <p-column field="lastModifiedBy.id" header="Last modified"></p-column>
          <p-column field="status" header="Status"></p-column>
          <p-column header="Attachments" [style]="{'width':'10%'}">
            <ng-template let-note="rowData" pTemplate="body">
			<div *ngIf="note.attachments" style="text-align: center">
				<i class="fa fa-paperclip fa-2x"></i><span class="an-attachment-badge badge">{{note.attachments.size}}</span>
			</div>
			</ng-template>
          </p-column>
          <p-column header="Messages" [style]="{'width':'10%'}">
            <ng-template let-note="rowData" pTemplate="body">
			<ng-container *ngIf="note.messages" >
				<span class="an-attachment-badge badge">{{note.messages.length}} replies</span>
			</ng-container>
			</ng-template>
          </p-column>
        </p-dataTable>
      </div>
      <ng-template #noNoteFoundBlock>No note found for the customer</ng-template>
    </div>
  </div>
</p-panel>



